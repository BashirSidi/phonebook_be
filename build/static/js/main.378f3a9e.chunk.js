(this.webpackJsonpcourseinfo=this.webpackJsonpcourseinfo||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(15),c=n.n(u),l=n(1),o=n.n(l),i=n(3),s=n(4),m=function(e){var t=e.Query,n=e.handleQueryChange;return r.a.createElement("div",null,r.a.createElement("strong",null,"Filter shown with:")," \xa0",r.a.createElement("input",{name:"search",type:"text",onChange:n,value:t,placeholder:"Filter"}))},f=function(e){var t=e.addName,n=e.handleNameChange,a=e.handleNumberChange,u=e.NewName,c=e.NewNumber;return r.a.createElement("div",null,r.a.createElement("h2",null,"Add New Contact"),r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"Name:"," ",r.a.createElement("input",{name:"name",value:u,placeholder:"name",onChange:n}),"\xa0\xa0Number:"," ",r.a.createElement("input",{name:"number",value:c,placeholder:"number",onChange:a}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add"))))},d=function(e){var t=e.Persons,n=e.Query,a=e.handleClick;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("div",null,""!==n?t.filter((function(e){return e.name===n})).map((function(e,t){return r.a.createElement("div",{key:t},e.name,": ",e.number)})):r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{style:{lineHeight:"40px"},key:t},e.name,": ",e.number,"\xa0\xa0",r.a.createElement("button",{onClick:function(){return a(e)}},"delete"))})))))},p=n(5),b=n.n(p),h="http://localhost:3001/api/persons",v=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(h,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.a.put("".concat(h,"/").concat(t),n),e.abrupt("return",a.data);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g={getAll:v,create:E,deleteData:function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(h,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:w},y=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"errorMessage"},t)},N=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),l=Object(s.a)(c,2),p=l[0],b=l[1],h=Object(a.useState)(""),v=Object(s.a)(h,2),E=v[0],w=v[1],N=Object(a.useState)([]),k=Object(s.a)(N,2),j=k[0],x=k[1],O=Object(a.useState)(null),C=Object(s.a)(O,2),Q=C[0],S=C[1];function A(){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAll();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){A()}),[]);var P=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=j.find((function(e){return e.name===n})),r=j.find((function(e){return e.number===p})),""===n||""===p){e.next=16;break}if(c={name:n,number:p,id:j.length+2},!a&&!r){e.next=10;break}window.confirm("".concat(n," is already added to phonebook, replace the old number with a new one ?"))&&(j.filter((function(e){return e.name===n||e.number===p})).map((function(e){var t={name:e.name,number:p,id:e.id};return g.update(e.id,t)})),A()),e.next=16;break;case 10:return e.next=12,g.create(c);case 12:l=e.sent,S("Added ".concat(l.name,".")),setTimeout((function(){S(null)}),2e3),x(j.concat(l));case 16:b(""),u("");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(y,{message:Q}),r.a.createElement(m,{handleQueryChange:function(e){w(e.target.search=e.target.value)},Query:E}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f,{handleNameChange:function(e){u(e.target.name=e.target.value)},handleNumberChange:function(e){b(e.target.number=e.target.value)},NewName:n,NewNumber:p,addName:P}),r.a.createElement(d,{Persons:j,Query:E,handleClick:function(e){if(window.confirm("Delete ".concat(e.name," ?")))try{g.deleteData(e.id),A()}catch(t){console.log(t)}}}))};n(39);c.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.378f3a9e.chunk.js.map